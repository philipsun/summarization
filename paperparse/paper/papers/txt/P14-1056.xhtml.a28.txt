 Accurately segmenting a citation string into fields for authors, titles, etc. is a challenging task because the output typically obeys various global constraints. Previous work has shown that modeling soft constraints , where the model is encouraged, but not require to obey the constraints, can substantially improve segmentation performance. On the other hand, for imposing hard constraints , dual decomposition is a popular technique for efficient prediction given existing algorithms for unconstrained inference. We extend dual decomposition to perform prediction subject to soft constraints. Moreover, with a technique for performing inference given soft constraints, it is easy to automatically generate large families of constraints and learn their costs with a simple convex optimization problem during training. This allows us to obtain substantial gains in accuracy on a new, challenging citation extraction dataset. algorithmttop 4 . ref-marker [ J. u'\ud835' u'\udc1f' u'\ud835' u'\udc22' u'\ud835' u'\udc2b' u'\ud835' u'\udc2c' u'\ud835' u'\udc2d' D. u'\ud835' u'\udc26' u'\ud835' u'\udc22' u'\ud835' u'\udc1d' u'\ud835' u'\udc1d' u'\ud835' u'\udc25' u'\ud835' u'\udc1e' Monk , u'\ud835' u'\udc25' u'\ud835' u'\udc1a' u'\ud835' u'\udc2c' u'\ud835' u'\udc2d' u'\ud835' u'\udc5d' u'\ud835' u'\udc52' u'\ud835' u'\udc5f' u'\ud835' u'\udc60' u'\ud835' u'\udc5c' u'\ud835' u'\udc5b' ] authors [ Cardinal Functions on Boolean Algebra , ] title [ Lectures in Mathematics , ETH Zurich , u'\ud835' u'\udc60' u'\ud835' u'\udc52' u'\ud835' u'\udc5f' u'\ud835' u'\udc56' u'\ud835' u'\udc52' u'\ud835' u'\udc60' BirkhÂ¨ause Verlag , u'\ud835' u'\udc5d' u'\ud835' u'\udc62' u'\ud835' u'\udc4f' u'\ud835' u'\udc59' u'\ud835' u'\udc56' u'\ud835' u'\udc60' u'\u210e' u'\ud835' u'\udc52' u'\ud835' u'\udc5f' Basel , Boston , Berlin , u'\ud835' u'\udc4e' u'\ud835' u'\udc51' u'\ud835' u'\udc51' u'\ud835' u'\udc5f' u'\ud835' u'\udc52' u'\ud835' u'\udc60' u'\ud835' u'\udc60' 1990 . u'\ud835' u'\udc32' u'\ud835' u'\udc1e' u'\ud835' u'\udc1a' u'\ud835' u'\udc2b' u'\ud835' u'\udc51' u'\ud835' u'\udc4e' u'\ud835' u'\udc61' u'\ud835' u'\udc52' ] venue